parameters:
  param : []

  steps:
    - ${{ each project in parameters.param}}:
      - task: DotNetCoreCLI@2
      displayName: Dotnet Publish Windows x64
      inputs:
        command: 'publish'
        arguments: '-c $(BuildConfiguration) -o $(Build.BinariesDirectory)\win-x64\OSSGadget_$(ReleaseVersion)\$(project) -r win-x64'
        publishWebProjects: false
        zipAfterPublish: false
        workingDirectory: $(SolutionDirectory)/$(project)
    - task: DotNetCoreCLI@2
      displayName: Dotnet Build .NET Core App
      inputs:
        command: 'build'
        arguments: '-c $(BuildConfiguration) -o $(Build.BinariesDirectory)\netcoreapp\OSSGadget_$(ReleaseVersion)\$(project)'
        publishWebProjects: false
        zipAfterPublish: false
        workingDirectory: $(SolutionDirectory)/$(project)