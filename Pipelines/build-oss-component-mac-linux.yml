parameters:
- name: ProjectName

steps:
- task: DotNetCoreCLI@2
        displayName: Dotnet Publish Linux x64
        inputs:
          command: 'publish'
          arguments: '-c $(BuildConfiguration) -o $(Build.BinariesDirectory)/linux/OSSGadget_$(ReleaseVersion)/${{ parameters.ProjectName }} -r linux-x64'
          publishWebProjects: false
          zipAfterPublish: false
          workingDirectory: $(SolutionDirectory)/${{ parameters.ProjectName }}
- task: DotNetCoreCLI@2
  displayName: Dotnet Publish MacOS x64
  inputs:
    command: 'publish'
    arguments: '-c $(BuildConfiguration) -o $(Build.BinariesDirectory)/macos/OSSGadget_$(ReleaseVersion)/${{ parameters.ProjectName }} -r osx-x64'
    publishWebProjects: false
    zipAfterPublish: false
    workingDirectory: $(SolutionDirectory)/${{ parameters.ProjectName }}